<!-- public/subscription/movie_content.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <!-- ... (unchanged) -->
</head>
<body>
  <!-- ... (nav and content unchanged) -->

  <script src="/protected/auth.js"></script>  <!-- Note: Path assumes /public is root on Hostinger; adjust if needed -->
  <script>
    async function checkSubscription() {
      try {
        const response = await fetch(`${API_URL}/profile`, {
          credentials: 'include'
        });
        const data = await response.json();
        if (!data.subscription_active) {
          alert('This page requires an active subscription. Redirecting to profile...');
          window.location.href = '/profile.html';
        }
      } catch (error) {
        console.error('Subscription check error:', error);
        alert('Access denied. Redirecting to profile...');
        window.location.href = '/profile.html';
      }
    }
    window.addEventListener('load', checkSubscription);
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>